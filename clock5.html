<style>

  html, body {
    width: 100vw;
    height: 100vh;
    margin: 0;
    display: flex;
    overflow: hidden;
  }

  body::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: 1%;
    background-color: white;
    mix-blend-mode: difference;
    z-index: 200;
    opacity: 0;
    transition: opacity 3s ease;
  }

  body.visible::after {
    opacity: 1;
  }

  #bg {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10;
    opacity: 0;
    transition: opacity 3s ease;
  }

  #bg::after {
    content: "";
    background-image: linear-gradient(to bottom, white, white 49.9999%, black 50%, black);
    position: absolute;
    top: -100%;
    left: -100%;
    right: -100%;
    bottom: -100%;
    animation: 60s infinite linear spin;
  }

  #bg.visible {
    opacity: 1;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    25% {
      transform: rotate(90deg);
    }
    50% {
      transform: rotate(180deg);
    }
    75% {
      transform: rotate(270deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  #time {
    color: white;
    font: 24px "Menlo", sans-serif;
    opacity: 0;
    transition: opacity 1s ease;
    position: absolute;
    left: 5vw;
    bottom: 4vw;
    letter-spacing: 1vw;
    white-space: nowrap;
    z-index: 100;
    mix-blend-mode: difference;
  }

  #date {
    color: white;
    font: 24px "Menlo", sans-serif;
    opacity: 0;
    transition: opacity 1s ease;
    position: absolute;
    right: 5vw;
    top: 4vw;
    letter-spacing: 1vw;
    white-space: nowrap;
    z-index: 100;
    mix-blend-mode: difference;
    margin-right: -1vw;
  }

  #time span,
  #date span {
    opacity: .3;
  }

  #time.visible,
  #date.visible {
    opacity: 1;
  }

</style>

<div id="bg"></div>
<div id="time"></div>
<div id="date"></div>

<script>

function setTime(timeDiv, dateDiv) {
  const date = new Date()
  const hours = (date.getHours() % 12) || 12
  let minutes = date.getMinutes()
  if (minutes.toString().length < 2) minutes = "0" + minutes.toString()
  let seconds = date.getSeconds()
  if (seconds.toString().length < 2) seconds = "0" + seconds.toString()
  timeDiv.innerHTML = hours + "<span>:</span>" + minutes + "<span>:</span>" + seconds
  dateDiv.innerHTML = (date.getMonth() + 1) + "<span>/</span>" + date.getDate()
}

function random(min, max) {
  return min + Math.round(Math.random() * (max - min))
}

function randomBg(hue) {
  if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
    return "linear-gradient(to bottom left, hsl(" + hue + ", 40%, 10%), hsl(" + hue + ", 60%, 5%))"
  } else {
    return "linear-gradient(to bottom left, hsl(" + hue + ", 5%, 99%), hsl(" + hue + ", 10%, 80%))"
  }
}

document.addEventListener("DOMContentLoaded", () => {

  setTimeout(() => {
    const body = document.body
    const bg = document.getElementById("bg")
    const time = document.getElementById("time")
    const date = document.getElementById("date")
    const timeDegrees = 90 + Math.round((new Date()).getSeconds() * (360 / 60))
    bg.style.transform = `rotate(${timeDegrees}deg)`;
    setTime(time, date)
    body.className = "visible"
    bg.className = "visible"
    time.className = "visible"
    date.className = "visible"
    setInterval(() => {
      setTime(time, date)
    }, 1000)
  }, 200)

})

</script>
